(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},102:function(e,t){},135:function(e,t){},136:function(e,t){},184:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),c=n(85),o=n.n(c),s=(n(91),n(29)),i=n(30),l=n(32),d=n(31),u=n(33),m=(n(93),n(95),n(47)),f=n.n(m),p=n(9),w=n.n(p),h=n(16),v=(n(184),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).myYolo=null,n.colors={},n.componentDidMount=Object(h.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setupCam();case 2:n.load(),n.run();case 4:case"end":return e.stop()}},e,this)})),n.run=Object(h.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.refs.canvas.width=n.refs.webcam.videoWidth,n.refs.canvas.height=n.refs.webcam.videoHeight,n.refs.canvas.getContext("2d").drawImage(n.refs.webcam,0,0,n.refs.webcam.videoWidth,n.refs.webcam.videoHeight),n.myYolo&&0!==n.refs.canvas.width&&0!==n.refs.canvas.height&&n.predict(),setTimeout(n.run,500);case 5:case"end":return e.stop()}},e,this)})),n.setupCam=Object(h.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=4;break}return e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}});case 3:n.refs.webcam.srcObject=e.sent;case 4:case"end":return e.stop()}},e,this)})),n.predict=Object(h.a)(w.a.mark(function e(){var t,a,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=performance.now(),e.next=3,n.myYolo(n.refs.canvas,{numClasses:1,classNames:["figure"]});case 3:a=e.sent,r=performance.now(),console.log("Inference took ".concat(r-t," ms")),n.drawBoxes(a);case 7:case"end":return e.stop()}},e,this)})),n.drawBoxes=function(e){console.log(e),n.refs.rects.innerHTML="";var t=n.refs.webcam.clientWidth,a=n.refs.webcam.clientHeight,r=n.refs.webcam.videoWidth,c=n.refs.webcam.videoHeight,o=t/r,s=a/c;n.refs.webcam_wrapper.style.width="".concat(t,"px"),n.refs.webcam_wrapper.style.height="".concat(a,"px"),e.map(function(e){e.class in n.colors||(n.colors[e.class]="#"+Math.floor(16777215*Math.random()).toString(16));var t=document.createElement("div");t.className="rect",t.style.top="".concat(e.top*s,"px"),t.style.left="".concat(e.left*o,"px"),t.style.width="".concat(e.width*o-4,"px"),t.style.height="".concat(e.height*s-4,"px"),t.style.borderColor=n.colors[e.class];var a=document.createElement("div");return a.className="text",a.innerText="".concat(e.class," ").concat(e.score.toFixed(2)),a.style.color=n.colors[e.class],t.appendChild(a),n.refs.rects.appendChild(t),e})},n.load=Object(h.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.myYolo&&(n.myYolo.dispose(),n.myYolo=null),n.refs.rects.innerHTML="",e.next=4,f.a.v3tiny("./model/model.json");case 4:n.myYolo=e.sent;case 5:case"end":return e.stop()}},e,this)})),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"webcam-wrapper",ref:"webcam_wrapper"},r.a.createElement("div",{ref:"rects",id:"rects"}),r.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,ref:"webcam",id:"webcam"}),r.a.createElement("canvas",{ref:"canvas",style:{position:"absolute",visibility:"hidden"}})))}}]),t}(a.Component)),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,n){e.exports=n(186)},91:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){e.exports=n.p+"static/media/img_45.dc0ae38d.jpg"}},[[86,2,1]]]);
//# sourceMappingURL=main.0cc49e25.chunk.js.map